{% extends 'base.html' %}
{% block title %}Place Order{% endblock %}

{% block content %}
<h4 class="center-align">Place a New Order</h4>
<form method="post" class="container">
    {% csrf_token %}
    <div class="input-field">
        <select name="user" required>
            <option value="" disabled selected>Choose a user</option>
            {% for user in users %}
                <option value="{{ user.id }}">{{ user.name }}</option>
            {% endfor %}
        </select>
        <label>Select User</label>
    </div>

    <h5>Choose Products</h5>
    {% for product in products %}
    <p>
        <label>
            <input type="checkbox" name="products" value="{{ product.id }}" />
            <span>{{ product.name }} - ${{ product.price }}</span>
        </label>
    </p>
    {% endfor %}

    <button type="submit" class="btn teal">Submit Order</button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var elems = document.querySelectorAll('select');
        M.FormSelect.init(elems);
    });
</script>
{% endblock %}